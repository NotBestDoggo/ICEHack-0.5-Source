//Deobfuscated with https://github.com/PetoPetko/Minecraft-Deobfuscator3000 using mappings "1.12 stable mappings"!

package me.fluffycq.icehack.module.modules.exploit;

import java.util.ArrayList;
import me.fluffycq.icehack.events.PacketEvent;
import me.fluffycq.icehack.module.Category;
import me.fluffycq.icehack.module.Module;
import me.fluffycq.icehack.setting.Setting;
import me.zero.alpine.listener.EventHandler;
import me.zero.alpine.listener.Listener;
import net.minecraft.network.play.client.CPacketUseEntity;
import net.minecraft.world.World;

public class MountBypass extends Module {
  public MountBypass() {
    super("MountBypass", 0, Category.EXPLOITS);
    this.packetEvent = new Listener(paramSend -> {
          if (paramSend.getPacket() instanceof CPacketUseEntity)
            if (this.mode.getValString().equalsIgnoreCase("Old")) {
              if (((CPacketUseEntity)paramSend.getPacket()).getEntityFromWorld((World)mc.world) instanceof net.minecraft.entity.passive.AbstractChestHorse && ((CPacketUseEntity)paramSend.getPacket()).getAction() == CPacketUseEntity.Action.INTERACT_AT && !ignoring)
                paramSend.cancel(); 
            } else if (this.mode.getValString().equalsIgnoreCase("New") && ((CPacketUseEntity)paramSend.getPacket()).getEntityFromWorld((World)mc.world) instanceof net.minecraft.entity.passive.AbstractChestHorse && ((CPacketUseEntity)paramSend.getPacket()).getAction() == CPacketUseEntity.Action.INTERACT_AT) {
              paramSend.cancel();
            }  
        }new java.util.function.Predicate[0]);
    this.modes.add("Old");
    this.modes.add("New");
    this.mode = new Setting("Mode", this, "New", this.modes);
  }
}
